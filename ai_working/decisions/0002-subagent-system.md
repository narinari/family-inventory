# ADR-0002: サブエージェントシステムの導入

## ステータス

Accepted

## コンテキスト

Claude Code を使った開発において、以下の課題がある:
- 複雑なタスクで一貫性のある品質を保つのが難しい
- 専門的な知識が必要なタスクで最適な結果を得にくい
- 開発プロセスの可視化とログ記録が不十分

## 決定

Microsoft Amplifier プロジェクトのサブエージェントパターンを導入する。

## 選択肢

### 選択肢1: サブエージェントシステム導入
- メリット:
  - 専門化されたエージェントによる品質向上
  - タスクの委譲による効率化
  - フックによるプロセスの可視化
- デメリット:
  - 初期設定のオーバーヘッド
  - エージェント定義のメンテナンスが必要

### 選択肢2: 標準の Claude Code のみ使用
- メリット:
  - シンプル
  - 追加設定不要
- デメリット:
  - 専門的なタスクで品質が安定しない
  - ログ記録・可視化が限定的

## 理由

- 専門エージェントにより、設計・デバッグ・セキュリティレビューなどの品質が向上
- TypeScript ベースのフックにより、プロジェクトの技術スタックと統一
- メモリシステムによりセッション間のコンテキスト保持が可能

## 影響

- `.claude/agents/` ディレクトリにエージェント定義を配置
- `.claude/tools/` にフックスクリプトを配置
- `.claude/settings.json` でフック設定
- `MEMORY_SYSTEM_ENABLED=true` でメモリ機能有効化

## 関連

- ADR-0001: Firebase の採用
- AGENTS.md
- ai_context/claude_code/CLAUDE_CODE_SUBAGENTS.md
